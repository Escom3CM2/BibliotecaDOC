% \IUref{IUAdmSucur}{Bibliotecario, Lector, Jefe de biblioteca, Procesos técnicos}
% \IUref{IUConsDA}{Iniciar sesión}
% Version 1


% Copie este bloque por cada caso de uso:
%-------------------------------------- COMIENZA descripción del caso de uso.

%\begin{UseCase}[archivo de imágen]{UCX}{Nombre del Caso de uso}{
	\begin{UseCase}{CU4.6}{Iniciar sesión}{
		Los usuarios que hacen uso del sistema podrán ingresar a su perfil y hacer uso de las funcionales de su respectivo perfil }
		\UCitem{Versión}{1.0}
		\UCitem{Estado}{En revisión}
		\UCitem{Actor}{Bibliotecario, Lector, Jefe de bibliotecario y Procesos técnicos}
		\UCitem{Propósito}{Tener un control de los diferentes usuarios que hagan uso del sistema. Que cada usuario entre a su perfil y haga uso de el, así como, evitar que un usuario entre en un perfil diferente y que haga mal uso de dicho perfil}
		\UCitem{Entradas}{}
		\UCitem{Salidas}{
			
			\begin{itemize}
				\item Mensaje \MSGref{MSJ4.2}{Error. datos incompletos. Favor de completar todos los campos de entrada.},	
				\item Mensaje \MSGref{MSJ4.12}{Error. Contraseña o correo inválido.},
				\item Mensaje \MSGref{MSJ4.13}{Se inicio sesión exitosamente.},
				\item Mensaje \MSGref{MSJ4.14}{Error. Contraseña o correo incorrectos.}
			\end{itemize}
		}
		\UCitem{Precondiciones}{
			\begin{itemize}
				\item El usuario debe estar registrado en el sistema.
			\end{itemize}
		}
		\UCitem{Postcondiciones}{El usuario ingresa a su perfil.}
		\UCitem{Tipo}{Caso de uso primario.}
		\UCitem{Autor}{Miguel Ángel Castañeda Sánchez.}
		\UCitem{Revisor}{---}
	\end{UseCase}


	%%------------Trayectoria Principal-----------------%%		
	
	\begin{UCtrayectoria}{Principal}
	
		\UCpaso Despliega la \IUref{IU4.1}{Login del usuario}.

		\UCpaso[\UCactor] Llena los campos correo electronico y contraseña.\label{CU4.1InicioSesion}

		\UCpaso[\UCactor] Da clik en el botón \IUbutton{Ingresar al sistema}.\label{CU4.2ConectarBaseDatos}
		
		\UCpaso Verifica los campos de los datos con base a la \BRref{RN4.1}{Campos no nulos.} \Trayref{A}.
		
		\UCpaso Válida que los datos ingresados cumplan los formatos con base a las Reglas de Negocio: 
				
			\begin{itemize}
				\item	\BRref{RN4.2}{Formato del correo} 
				\item	\BRref{RN4.3}{Formato de la contraseña} 
			\end{itemize} 
		\Trayref{B}.

		\UCpaso Se conecta a la base de datos. \Trayref{C}.

		\UCpaso Válida que el correo y contraseña coincidan con el usuario con base a la regla de negocio \BRref{RN4.26}{Los usuarios tienen un correo y contraseña para ingresar al sistema.}.\Trayref{D}.

		\UCpaso Muestra el Mensaje \MSGref{MSJ4.1}{Se inicio sesión exitósamente.}

		\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}.

		\UCpaso Redirige a la pantalla \IUref{IU4.2}{Perfil bibliotecario} ó pantalla \IUref{IU4.18}{Perfil lector} ó pantalla \IUref{IU4.30}{Perfil Jefe de biblioteca} ó pantalla \IUref{IU4.31}{Perfil Procesos técnicos}.\Trayref{E}.\Trayref{F}.\Trayref{G}.\Trayref{H}.
		

	\end{UCtrayectoria}

%%------------Trayectorias Alternativas-----------------%%	

%%------------Trayectoria A-----------------%%
		
		
		\begin{UCtrayectoriaA}{A.}{El usuario no ha llenado todos los campos}
			\UCpaso Muestra el Mensaje \MSGref{MSJ4.2}{Error. datos incompletos. Favor de completar todos los campos de entrada.}
			\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}.
			\UCpaso Continua en el paso \ref{CU4.1InicioSesion} del \UCref{CU4.4}.
			
		\end{UCtrayectoriaA}


%%------------Trayectoria B-----------------%%
		\begin{UCtrayectoriaA}{B.}{El usuario ha ingresado los datos de manera incorrecta}

			\UCpaso Muestra el Mensaje \item Mensaje \MSGref{MSJ4.3}{Advertencia. Confirma que los datos ingresados sean correctos.},
			\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}.
			\UCpaso Continua en el paso \ref{CU4.1InicioSesion} del \UCref{CU4.4}.

		\end{UCtrayectoriaA}

%%------------Trayectoria C-----------------%%
		\begin{UCtrayectoriaA}{C.}{Error al conectar a la base de datos}

			\UCpaso Muestra el Mensaje \MSGref{MSJ4.5}{Error. Falló al conectarse a la BD.}
			\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}.
			\UCpaso Continua en el paso \ref{CU4.2ConectarBaseDatos} del \UCref{CU4.4}.

		\end{UCtrayectoriaA}

%%------------Trayectoria D-----------------%%
		\begin{UCtrayectoriaA}{D.}{Contraseña o correo incorrectos}

			\UCpaso Muestra el Mensaje \MSGref{MSJ4.14}{Error. Contraseña o correo incorrectos.}
			\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}.
			\UCpaso Continua en el paso \ref{CU4.1InicioSesion} del \UCref{CU4.4}.

		\end{UCtrayectoriaA}

%%------------Trayectoria E-----------------%%
		\begin{UCtrayectoriaA}{E.}{Perfil del bibliotecario}

			\UCpaso Inician funciones del perfil de biblioteca

		\end{UCtrayectoriaA}


%%------------Trayectoria F-----------------%%
		\begin{UCtrayectoriaA}{F.}{Perfil del lector}

			\UCpaso inician funciones del lector
		\end{UCtrayectoriaA}


%%------------Trayectoria G-----------------%%
		\begin{UCtrayectoriaA}{G.}{Perfil de Jefe de biblioteca}

			\UCpaso Inician funciones del jefe de biblioteca
		\end{UCtrayectoriaA}

%%------------Trayectoria H-----------------%%
		\begin{UCtrayectoriaA}{H.}{Perfil de procesos tecnicos}

			\UCpaso Inician funciones de procesos tecnicos

		\end{UCtrayectoriaA}								